{% load static %}
<link rel="stylesheet" href="{% static 'css/products.css' %}">
<!-- Producto en tarjeta -->
<div class="card text-center h-100 shadow-sm" style="border-radius: 10px;">
    {% if product.image %}
        <img class="card-img-top rounded-top" src="{{ product.image.url }}" alt="Imagen del producto" style="height: 150px; object-fit: cover;">
    {% else %}
        <img class="card-img-top rounded-top" src="{% static 'images/aimagenot.png' %}" alt="Imagen no disponible" style="height: 150px; object-fit: cover;">
    {% endif %}
    <div class="card-body">
        <h4 class="card-title" style="color:rgb(169, 71, 62);">{{ product.title }}</h4>
        <p class="card-text text-muted">{{ product.description }}</p>
        <p class="card-text"><strong>Stock Disponible:</strong> {{ product.stock }}</p> <!-- Mostrar el stock disponible -->

        <!-- Formulario para agregar al carrito -->
        <form method="POST" action="{% url 'carts:add' %}">
            {% csrf_token %}
            <input type="hidden" name="product_id" value="{{ product.id }}">
            <div class="form-group">
                <label for="quantity">Cantidad:</label>
                <input type="number" id="quantity" name="quantity" class="form-control" min="1" max="{{ product.stock }}" value="1" required>
            </div>
            <button type="submit" class="btn btn-primary btn-sm mt-2">🛒 Añadir al Carrito</button>
        </form>
    </div>
    <div class="card-footer bg-transparent">
        <div class="btn-group">
            <a href="{% url 'products:product' product.slug %}" class="btn btn-outline-primary btn-sm">👀 Ver</a>
            <a href="{% url 'products:product' product.slug %}" class="btn btn-outline-danger btn-sm">👍🏻 Like</a>
        </div>
    </div>
</div>
